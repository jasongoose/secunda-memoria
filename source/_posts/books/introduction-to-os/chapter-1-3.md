---
title: 1-3. 운영체제의 구조
date: 2024-11-26 21:56:30
categories:
  - Books
  - 쉽게 배우는 운영체제
#tags:
---
## 커널과 인터페이스

### 커널

- 프로세스 관리, 메모리 관리, 저장장치 관리 등의 운영체제의 핵심적인 기능을 모아놓은 것을 "커널(kernel)"이라고 합니다.

### 인터페이스

- 사용자 또는 응용 프로그램(이하 app)에 인접하여 커널에 명령을 전달하고 실행결과를 다시 돌려줍니다.
- 커널과 인터페이스를 분리하여 같은 커널에 다양한 인터페이스를 가진 형태로 제작할 수 있습니다.

![운영체제의 구성](/images/interface.png)

## 시스템 호출과 디바이스 드라이버

### 시스템 호출

- 사용자나 app으로부터 컴퓨터 자원을 보호하기 위해 자원에 직접 접근하는 것을 차단하는 인터페이스입니다.
- 자원을 사용하려면 시스템 호출(sys-call)을 통해 커널로 요청하고 결과물을 받을 수 있습니다.

### 드라이버

- 커널과 하드웨어 사이의 인터페이스입니다.
- 커널은 기본적인 입출력(이하 IO)만 제작하고 하드웨어 제작자가 하드웨어의 특성을 반영한 소프트웨어인 디바이스 드라이버를 커널과 함께 실행합니다.
- 드라이버는 커널에서 기본적으로 제공되는 드라이버가 있고 외부로부터 설치하는 디바이스 드라이버로 나뉩니다.

## 커널의 구성

### 커널이 하는 일

- 프로세스 관리
  - 프로세스에 CPU를 배분하고 작업에 필요한 환경을 제공합니다.
- 메모리 관리
  - 프로세스를 작업 공간에 배치하고 실제 메모리보다 큰 가상공간을 제공합니다.
- 파일 시스템 관리
  - 데이터를 저장하고 접근할 수 있는 인터페이스를 제공합니다.
- 입출력 관리
  - 필요한 입출력 서비스를 제공합니다.
- 프로세스 간 통신 관리
  - 공동 작업을 위한 프로세스 간 통신 환경을 지원합니다.

### 단일형 구조 커널

- 커널의 핵심 기능을 구현하는 모듈들이 구분 없이 하나로 구성되어 있습니다.
  - 예) MS-DOS, VMS, 초기 UNIX
- 장점
  - 모듈 간의 통신 비용이 줄어들어 효율적인 운영이 가능합니다.
- 단점
  - 디버깅이 어렵습니다.
  - side-effect가 쉽게 발생할 수 있습니다.
  - 기능 수정이 어려워서 이식성이 낮습니다.
  - 복잡한 기능을 구현하기 어려운 구조입니다.

![단일형 구조 커널](/images/monolithic_kernel.png)


### 계층형 구조 커널

- 비슷한 기능을 가진 모듈을 묶어서 하나의 계층으로 만들고 계층 간의 통신으로 운영체제를 구현합니다.
  - 예) MS Window
- 단일현 구조 커널에 비해서 모듈화가 되어 있기 때문에 상대적으로 디버깅이 용이합니다.

![계층형 구조 커널](/images/layered_kernel.png)

### 마이크로 구조 커널

- 모듈 동기화, 메모리 관리, 프로세스 간 통신 관리 등의 기본적인 모듈들만 제공하고 그외 필요한 모듈들은 사용자 영역에서 구현합니다.
  - 예) OS X, iOS의 커널인 Mach
- 커널 내의 모듈들과 사용자 영역의 모듈들은 커널의 "프로세스 간 통신 관리" 모듈을 통해 서로 통신합니다.
- 개별 모듈이 독립적으로 동작하므로 side-effect가 발생하지 않고 용량이 가벼워서 이식하기 용이합니다.

![마이크로 구조 커널](/images/micro_kernel.png)

## 가상머신

- 운영체제와 app 사이에서 작동하는 프로그램으로, app이 모두 동일한 환경에서 동작하도록 도와줍니다.
  - 예) JVM, Virtual Box

![가상머신](/images/virtual_machine.png)